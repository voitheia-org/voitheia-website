---
layout: default
---
        <div class="projects-container">
            <div class="projects-header">
                <h1>OUR PROJECTS</h1>
            </div>


            <!-- Timeline Line -->
            <div class="timeline-line"></div>

            <!-- Timeline Container -->
            <div class="timeline-container">

                {%for project in site.data.projects%}
                <div class="project-card" data-project="{{project.num}}">
                    <div class="timeline-dot"></div>
                    <div class="project-image" style="background-image: url('{{project.bg_img}}');">
                    </div>
                    <h3 class="project-title">{{project.title}}</h3>
                    <div class="project-location">
                        <i class="fas fa-circle-info"></i>
                        <span>Click for more info</span>
                    </div>
                </div>
                    {%for modal in project.modal%}
                    <div class="project-modal" id="modal-{{project.num}}">
                        <div class="modal-content">
                            <div class="modal-header">
                                <button class="close-btn">&times;</button>
                                <h2 class="modal-title">{{project.title}}</h2>
                                <div class="modal-location">
                                    <i class="fas fa-map-marker-alt"></i>
                                    <a href="{{modal.location}}" target="_blank" rel="noopener noreferrer">
                                        {{modal.address}}
                                    </a>
                                </div>
                            </div>
                            <div class="modal-body">
                                <div class="modal-gallery-wrapper">
                                    <button class="modal-slider-btn prev">&#10094;</button>
                                    <div class="modal-gallery-scroll">
                                        {%for item in modal.media%}
                                        {%if item.type == 'image'%}
                                        <div class="modal-image" style="background-image: url('{{item.path}}');"></div>
                                        {%elsif item.type == 'video'%}
                                        <div class="modal-image">
                                            <video src="{{item.path}}" autoplay muted loop playsinline style="width: 100%; height: 100%; object-fit: cover; border-radius: 20px;"></video>
                                        </div>
                                        {%endif%}
                                        {%endfor%}
                                    </div>
                                    <button class="modal-slider-btn next">&#10095;</button>
                                </div>
                                <div class="modal-description">
                                    <p align="justify">
                                        {{modal.description}}
                                    </p>
                                </div>
                                <div class="scroll-incentive">
                                    <a href="#contact">
                                        <div class="arrow"></div>
                                    </a>
                                </div>                
                                <div class="contact-section" id="contact">
                                    <h3>Support This Project & more</h3>
                                    <div class="footer-links1">
                                        <div>
                                            <a href="https://mail.google.com/mail/?view=cm&fs=1&to=voitheia.org@gmail.com&su=Hey Voitheia&body=Hi, I would like to know more about your organisation."
                                            target="_blank"><i class="fas fa-envelope"></i> voitheia.org@gmail.com</a>
                                        </div>
                                        <div>
                                            <a href="tel:+2348055899033"><i class="fas fa-phone"></i> +234 805 589 9033</a>
                                        </div>
                                    </div>
                                    <button class="donate-button">Donate</button>
                                </div>
                            </div>
                        </div>
                    </div>
                    {%endfor%}
                {%endfor%} 
            </div>
        </div>
    </main>

    <!-- Project Modals -->
    <script>
        // Timeline animation and modal functionality
        document.addEventListener('DOMContentLoaded', function() {
            // Timeline animation on scroll
            const timelineDots = document.querySelectorAll('.timeline-dot');
            const projectCards = document.querySelectorAll('.project-card');
            
            const observerOptions = {
                threshold: 0.3,
                rootMargin: '0px 0px -100px 0px'
            };

            const observer = new IntersectionObserver((entries) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        const card = entry.target;
                        const dot = card.querySelector('.timeline-dot');
                        
                        card.classList.add('visible');
                        if (dot) {
                            dot.classList.add('visible');
                        }
                    }
                });
            }, observerOptions);

            projectCards.forEach(card => {
                observer.observe(card);
            });

            // Modal functionality
            const projectCards_modal = document.querySelectorAll('.project-card');
            const modals = document.querySelectorAll('.project-modal');
            const closeBtns = document.querySelectorAll('.close-btn');

            projectCards_modal.forEach(card => {
                card.addEventListener('click', () => {
                    const projectId = card.getAttribute('data-project');
                    const modal = document.getElementById(`modal-${projectId}`);
                    if (modal) {
                        modal.style.display = 'flex';
                        document.body.style.overflow = 'hidden';
                    }
                });
            });

            closeBtns.forEach(btn => {
                btn.addEventListener('click', () => {
                    const modal = btn.closest('.project-modal');
                    modal.style.display = 'none';
                    document.body.style.overflow = 'auto';
                });
            });

            modals.forEach(modal => {
                modal.addEventListener('click', (e) => {
                    if (e.target === modal) {
                        modal.style.display = 'none';
                        document.body.style.overflow = 'auto';
                    }
                });
            });

            // Donate button functionality
            const donateButtons = document.querySelectorAll('.donate-button');
            donateButtons.forEach(btn => {
                btn.addEventListener('click', () => {
                    // Redirect to donate page or handle donation
                    window.location.href = 'donate.html';
                });
            });
        });
        document.addEventListener('DOMContentLoaded', () => {
            const galleryWrappers = document.querySelectorAll('.modal-gallery-wrapper');

            galleryWrappers.forEach(wrapper => {
                const scrollContainer = wrapper.querySelector('.modal-gallery-scroll');
                const mediaItems = scrollContainer.querySelectorAll('.modal-image');
                const prevBtn = wrapper.querySelector('.modal-slider-btn.prev');
                const nextBtn = wrapper.querySelector('.modal-slider-btn.next');

                // Check for more than 3 media items (images or videos)
                if (mediaItems.length > 3) {
                    prevBtn.style.display = 'block';
                    nextBtn.style.display = 'block';

                    prevBtn.addEventListener('click', () => {
                        scrollContainer.scrollBy({
                            left: -scrollContainer.offsetWidth * 0.9,
                            behavior: 'smooth'
                        });
                    });

                    nextBtn.addEventListener('click', () => {
                        scrollContainer.scrollBy({
                            left: scrollContainer.offsetWidth * 0.9,
                            behavior: 'smooth'
                        });
                    });
                }

                // Ensure videos autoplay, loop, and are muted
                mediaItems.forEach(item => {
                    const video = item.querySelector('video');
                    if (video) {
                        video.autoplay = true;
                        video.loop = true;
                        video.muted = true;
                        video.playsInline = true; // for iOS
                        video.play().catch(() => {
                            // Optional: handle autoplay block
                            console.warn('Autoplay prevented by browser');
                        });
                    }
                });
            });
        });
    </script>